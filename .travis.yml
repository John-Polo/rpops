language: R
cache: packages
os:
    - windows
    - linux
    - osx

env: _R_CHECK_CRAN_INCOMING_=FALSE

matrix:
  include:
    - r: 3.1
    - r: 3.2
    - r: 3.3
    - r: 3.4
    - r: 3.5
    - r: devel

install:
  - Rscript -e "if (!require('devtools')) install.packages('devtools')"
  - Rscript -e "devtools::install_deps(dep = TRUE)"
  - Rscript -e "devtools::install_github('jimhester/covr')"

after_success:
  - Rscript -e 'library(covr); codecov()'